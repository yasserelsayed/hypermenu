{"ast":null,"code":"var _jsxFileName = \"D:\\\\masterdegree\\\\projectHyperMenu\\\\react\\\\hyper_menu\\\\src\\\\page\\\\menu_studio.js\";\nimport React, { useState, useEffect } from 'react';\nimport CustomLoader from '../custom_loader';\nimport axios from 'axios';\nimport { useParams } from \"react-router-dom\";\nimport { useCookies } from 'react-cookie';\nimport StudioSections from './studiosections';\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'addHeader':\n      {\n        headerNode.id++;\n        return [...state, {\n          headerNode,\n          name: action.data.name\n        }];\n      }\n  }\n}\n\nvar headerNode = {\n  \"type\": \"header\",\n  \"title\": \"\",\n  \"description\": \"\",\n  \"name\": \"\",\n  \"id\": 0\n};\nexport default function MenuStudio() {\n  const [state, dispatch] = useReducer(reducer, []);\n  const [cookies, setCookie] = useCookies(['access_token']);\n  const [laodingStatus, setlaodingStatus] = useState(false);\n  const [activePageIndex, setActivePageIndex] = useState(0);\n  const [pageTitle, setPageTitle] = useState(\"\");\n  const [pagesList, setPagesList] = useState([]);\n  const {\n    menuId,\n    menuName\n  } = useParams();\n\n  function removeMenuPage() {\n    if (!pagesList) return;\n\n    if (pagesList.length <= 1) {\n      alert(\"This operation not allowed if total pages less that 2 pages\");\n      return;\n    }\n\n    setlaodingStatus(true);\n    axios.delete('page/' + pagesList[activePageIndex].id).then(res => {\n      getMenuPages();\n    }).catch(error => {\n      setlaodingStatus(false);\n      alert(error.message);\n    });\n  }\n\n  function updateMenuPage() {\n    if (!pageTitle) return;\n    setlaodingStatus(true);\n    axios.put('page/' + pagesList[activePageIndex].id, {\n      name: pageTitle\n    }).then(res => {\n      getMenuPages();\n    }).catch(error => {\n      setlaodingStatus(false);\n      alert(error.message);\n    });\n  }\n\n  function getMenuPages() {\n    axios.get('page?menu_id=' + menuId).then(res => {\n      setPagesList(res.data);\n      setActivePageIndex(0);\n      setPageTitle(\"\");\n      setlaodingStatus(false);\n    }).catch(error => {\n      setlaodingStatus(false);\n      alert(error.message);\n    });\n  }\n\n  function submitNewPage() {\n    if (pageTitle.length == 0) alert(\"Page title required\");else {\n      setlaodingStatus(true);\n      axios.post(`page`, {\n        name: pageTitle,\n        menu_id: menuId\n      }).then(res => {\n        getMenuPages();\n      }).catch(error => {\n        setlaodingStatus(false);\n        alert(error.response.data.message);\n      });\n    }\n  }\n\n  useEffect(() => {\n    axios.defaults.headers.common['Authorization'] = cookies.access_token;\n    getMenuPages();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"studio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CustomLoader, {\n    show: laodingStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    class: \"navbar  navbar-fixed-top navbar-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"navbar-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    class: \"navbar-brand\",\n    href: \"./index.html\",\n    title: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: \"200px\",\n    src: \"../../assets/images/icon.svg\",\n    class: \"navbar-logo-img\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"collapse navbar-collapse\",\n    id: \"navbar-collapse-uarr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"nav navbar-nav navbar-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 16\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"span\", {\n    class: \"text-primary\",\n    onClick: e => {\n      e.preventDefault();\n      updateMenuPage();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  }, \"Save Page \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-floppy-o\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 122\n    }\n  })), \" \")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 20\n    }\n  }, \"|\"))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    onClick: e => {\n      e.preventDefault();\n      removeMenuPage();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 16\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"span\", {\n    class: \"text-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 85\n    }\n  }, \"Remove Page \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-trash\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 124\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 20\n    }\n  }, \"\\xA0 \\xA0\"))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: pageTitle,\n    onChange: e => setPageTitle(e.currentTarget.value),\n    placeholder: pagesList[activePageIndex] && pagesList[activePageIndex].name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 45\n    }\n  }), \" / \", menuName)))))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row templates\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: \"80\",\n    height: \"80\",\n    src: \"https://preview.pixlr.com/images/800wm/100/1/1001377185.jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: \"80\",\n    height: \"80\",\n    src: \"https://preview.pixlr.com/images/800wm/100/1/1001377185.jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(StudioSections, {\n    data: state,\n    addNode: action => {\n      dispatch({});\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }))), /*#__PURE__*/React.createElement(\"footer\", {\n    class: \"studioFooter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"tabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: pageTitle,\n    onChange: e => {\n      setPageTitle(e.currentTarget.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      e.preventDefault();\n      submitNewPage();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, \" NEW \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-plus-circle\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 27\n    }\n  })), pagesList.map((item, index) => {\n    console.log(index == activePageIndex);\n    if (index == activePageIndex) return /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      class: \"selectedPageTab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 38\n      }\n    }, item.name);else return /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      onClick: e => {\n        e.preventDefault();\n        setActivePageIndex(index);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 38\n      }\n    }, item.name);\n  }))));\n}\n{\n  /*\r\n    <div class=\"col-xs-7\" id=\"menuPage\">\r\n      <ul>\r\n        <li>\r\n          <div class=\"headerSection\">\r\n            <h1>header</h1>\r\n            <h6>description</h6>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class=\"itemSection\">\r\n             <ul>\r\n               <li>\r\n                  <div>\r\n                      <p>item item item item item item item</p> <span>250$</span>\r\n                      <ul>\r\n                        <li> gggggg</li>\r\n                        <li> fffffff</li>\r\n                        <li> nnnnn</li>\r\n                      </ul>\r\n                   </div>\r\n                </li>\r\n                <li>\r\n                  <div>\r\n                      <p>item item item item item item item</p> <span>250$</span>\r\n                   </div>\r\n                </li>\r\n                <li>\r\n                  <div>\r\n                      <p>item item item item item item item</p> <span>250$</span>\r\n                   </div>\r\n                </li>\r\n                <li>\r\n                  <div>\r\n                      <p>item item item item item item item</p> <span>250$</span>\r\n                   </div>\r\n                </li>\r\n             </ul>\r\n          </div>\r\n        </li>\r\n        <li>\r\n           <div class=\"imageSection\">\r\n                  <img width=\"100%\" height=\"100px\"  src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5_4qsgI6It1r_h-Srxze4ATdDymHwQ7NaVA&usqp=CAU\" />\r\n           </div>\r\n        </li>\r\n        <li>\r\n          <div class=\"footerSection\">\r\n                 <ul>\r\n                   <li><i class=\"fa fa-circle-o\" aria-hidden=\"true\"></i> <h6>footer content</h6></li>\r\n                   <li><i class=\"fa fa-circle-o\" aria-hidden=\"true\"></i> <h6>footer content footer content</h6></li>\r\n                   <li><i class=\"fa fa-circle-o\" aria-hidden=\"true\"></i> <h6>footer content footer content footer content footer content footer content footer content footer content footer content</h6></li>\r\n                   <li><i class=\"fa fa-circle-o\" aria-hidden=\"true\"></i> <h6>footer content</h6></li>\r\n                 </ul>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div> */\n}\n{\n  /* <div class=\"col-xs-2 studioColumn\">\r\n   <div style=\"padding:10px;margin: 10px;\">\r\n     <div class=\"row\">\r\n       <h5 class=\"col-md-4 center\">color</h5>\r\n       <input class=\"col-md-8 \" type=\"color\" />\r\n     </div>\r\n     <br/>\r\n         <div class=\"row\">\r\n       <h5 class=\"col-md-6 center\">font size</h5>\r\n       <input class=\"col-md-6 center\" type=\"number\" max=\"100\" min=\"1\" />\r\n     </div>\r\n     <br/>\r\n     <div class=\"row\">\r\n       <h5 class=\"col-md-6\">order</h5>\r\n       <h5 class=\"col-md-6\">2</h5>\r\n     </div>\r\n     <div class=\"row\" style=\"padding-left:10px;padding-right:10px\">\r\n       <input type=\"range\" min=\"1\" max=\"10\" value=\"50\"  id=\"myRange\">\r\n     </div>\r\n     <br/>\r\n     <br/>\r\n     <div class=\"row\">\r\n       <select class=\"col-md-12\" style=\"margin-left:10px;margin-right:10px\">\r\n         <option value=\"\">FONT FAMILY</option>\r\n         <option value=\"dog\">FONT 1</option>\r\n         <option value=\"cat\">FONT 2</option>\r\n         <option value=\"hamster\">FONT 3</option>\r\n         <option value=\"parrot\">FONT 4</option>\r\n         <option value=\"spider\">FONT 5</option>\r\n         <option value=\"goldfish\">FONT 6</option>\r\n     </select>\r\n     </div>\r\n     <br/>\r\n     <div class=\"row\">\r\n       <h5 class=\"col-md-12\">background image</h5>\r\n     </div>\r\n     <div class=\"row\" >\r\n       <input class=\"col-md-10 center\" style=\"margin-left:10px;margin-right:10px\" type=\"file\" />\r\n     </div>\r\n     <br/>\r\n     <div class=\"row\">\r\n       <h5 class=\"col-md-12\">Header text</h5>\r\n     </div>\r\n     <div class=\"row\" >\r\n       <textarea class=\"col-md-10 center\" rows=\"1\" ></textarea>\r\n     </div>\r\n     <br/>\r\n     <div class=\"row\">\r\n       <h5 class=\"col-md-12\">Description text</h5>\r\n     </div>\r\n     <div class=\"row\" >\r\n       <textarea class=\"col-md-10 center\" rows=\"1\" ></textarea>\r\n     </div>\r\n   </div>\r\n  </div> */\n}","map":{"version":3,"sources":["D:/masterdegree/projectHyperMenu/react/hyper_menu/src/page/menu_studio.js"],"names":["React","useState","useEffect","CustomLoader","axios","useParams","useCookies","StudioSections","reducer","state","action","type","headerNode","id","name","data","MenuStudio","dispatch","useReducer","cookies","setCookie","laodingStatus","setlaodingStatus","activePageIndex","setActivePageIndex","pageTitle","setPageTitle","pagesList","setPagesList","menuId","menuName","removeMenuPage","length","alert","delete","then","res","getMenuPages","catch","error","message","updateMenuPage","put","get","submitNewPage","post","menu_id","response","defaults","headers","common","access_token","e","preventDefault","currentTarget","value","map","item","index","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport CustomLoader from '../custom_loader'\r\nimport axios from 'axios';\r\nimport {useParams} from \"react-router-dom\";\r\nimport { useCookies } from 'react-cookie'\r\nimport StudioSections from './studiosections'\r\n\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'addHeader':{\r\n      headerNode.id++;\r\n      return [...state,{headerNode,name:action.data.name}];\r\n    }\r\n  }\r\n}\r\n\r\nvar headerNode = {\r\n   \"type\": \"header\", \r\n   \"title\":\"\",\r\n   \"description\":\"\",\r\n    \"name\":\"\",\r\n    \"id\":0\r\n}\r\n\r\n\r\nexport default function MenuStudio() {\r\n const [state, dispatch] = useReducer(reducer, []);\r\n const [cookies, setCookie] = useCookies(['access_token'])\r\n const [laodingStatus, setlaodingStatus] = useState(false)\r\n const [activePageIndex, setActivePageIndex] = useState(0)\r\n const [pageTitle, setPageTitle] = useState(\"\")\r\n const [pagesList, setPagesList] = useState([])\r\n const {menuId,menuName} = useParams()\r\n\r\n\r\n\r\n function removeMenuPage(){\r\n  if(!pagesList) return;\r\n   if(pagesList.length <= 1){\r\n      alert(\"This operation not allowed if total pages less that 2 pages\")\r\n      return\r\n   }\r\n   setlaodingStatus(true)\r\n  axios.delete('page/'+pagesList[activePageIndex].id)\r\n  .then(res => {\r\n    getMenuPages()\r\n  }).catch(error => {\r\n    setlaodingStatus(false)\r\n    alert(error.message)\r\n  })\r\n}\r\n\r\nfunction updateMenuPage(){\r\n  if(!pageTitle) return;\r\n   setlaodingStatus(true)\r\n  axios.put('page/'+pagesList[activePageIndex].id,{name:pageTitle})\r\n  .then(res => {\r\n    getMenuPages()\r\n  }).catch(error => {\r\n    setlaodingStatus(false)\r\n    alert(error.message)\r\n  })\r\n}\r\n\r\n\r\nfunction getMenuPages(){\r\n  axios.get('page?menu_id='+menuId)\r\n  .then(res => {\r\n    setPagesList(res.data)\r\n    setActivePageIndex(0)\r\n    setPageTitle(\"\")\r\n    setlaodingStatus(false)\r\n  }).catch(error => {\r\n    setlaodingStatus(false)\r\n    alert(error.message)\r\n  })\r\n}\r\n\r\n function submitNewPage() {\r\n  if (pageTitle.length == 0) \r\n       alert(\"Page title required\")\r\n  else{\r\n    setlaodingStatus(true)\r\n    axios.post(`page`, {name:pageTitle,menu_id:menuId})\r\n      .then(res => {\r\n          getMenuPages()\r\n      }).catch(error => {\r\n        setlaodingStatus(false)\r\n        alert(error.response.data.message);\r\n      })\r\n  } \r\n}\r\n\r\nuseEffect(() => {\r\n  axios.defaults.headers.common['Authorization'] = cookies.access_token;\r\n  getMenuPages();\r\n}, [])\r\n  return (\r\n    <div class=\"studio\">\r\n          <CustomLoader show={laodingStatus} />\r\n            <header>\r\n        <nav class=\"navbar  navbar-fixed-top navbar-default\">\r\n          <div class=\"container\">\r\n            <div class=\"navbar-header\">\r\n              <a class=\"navbar-brand\" href=\"./index.html\" title=\"\">\r\n                <img width=\"200px\" src=\"../../assets/images/icon.svg\" class=\"navbar-logo-img\" alt=\"\" />\r\n              </a>\r\n            </div>\r\n            <div class=\"collapse navbar-collapse\" id=\"navbar-collapse-uarr\">\r\n        <ul class=\"nav navbar-nav navbar-right\">\r\n          <li> <a href=\"#\"> <span class=\"text-primary\" onClick={(e)=>{ e.preventDefault(); updateMenuPage();}}>Save Page <i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i></span> </a></li>\r\n          <li> <a ><span>|</span></a></li>\r\n          <li> <a href=\"#\" onClick={(e)=>{ e.preventDefault(); removeMenuPage();}}> <span class=\"text-warning\">Remove Page <i class=\"fa fa-trash\" aria-hidden=\"true\"></i></span></a></li>\r\n          <li> <a ><span>&nbsp; &nbsp;</span></a></li>\r\n          <li> <a ><span class=\"text-muted\"><input type=\"text\" value={pageTitle}   onChange={(e)=>setPageTitle(e.currentTarget.value)}  placeholder={pagesList[activePageIndex] && pagesList[activePageIndex].name} /> / {menuName}</span></a></li>\r\n        </ul>\r\n      </div>\r\n          </div>\r\n        </nav>\r\n      </header>\r\n  <div class=\"row templates\" >\r\n      <a>\r\n        <img width=\"80\" height=\"80\" src=\"https://preview.pixlr.com/images/800wm/100/1/1001377185.jpg\" />\r\n      </a>\r\n      <a >\r\n        <img width=\"80\" height=\"80\" src=\"https://preview.pixlr.com/images/800wm/100/1/1001377185.jpg\" />\r\n      </a>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-xs-12\">\r\n    <StudioSections data={state}  addNode={(action)=>{dispatch({})}} />\r\n    </div>\r\n  </div>\r\n \r\n\r\n  <footer class=\"studioFooter\" >\r\n\r\n      <div class=\"tabs\">\r\n      <input type=\"text\" value={pageTitle} onChange={e => { setPageTitle(e.currentTarget.value)}} ></input>\r\n      <button onClick={e => {\r\n                  e.preventDefault();\r\n                  submitNewPage()\r\n                  }}> NEW <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i></button>\r\n                      {pagesList.map((item,index) => {\r\n                        console.log(index==activePageIndex)\r\n                        if(index==activePageIndex)\r\n                             return  <a href=\"#\" class=\"selectedPageTab\">{item.name}</a>\r\n                       else  return (<a href=\"#\" onClick={e => {\r\n                        e.preventDefault();\r\n                        setActivePageIndex(index);\r\n                        }}  >{item.name}</a>)\r\n                      })}\r\n    </div>\r\n  </footer> \r\n    </div>\r\n  );\r\n}\r\n\r\n   {/*\r\n      <div class=\"col-xs-7\" id=\"menuPage\">\r\n        <ul>\r\n          <li>\r\n            <div class=\"headerSection\">\r\n              <h1>header</h1>\r\n              <h6>description</h6>\r\n            </div>\r\n          </li>\r\n          <li>\r\n            <div class=\"itemSection\">\r\n               <ul>\r\n                 <li>\r\n                    <div>\r\n                        <p>item item item item item item item</p> <span>250$</span>\r\n                        <ul>\r\n                          <li> gggggg</li>\r\n                          <li> fffffff</li>\r\n                          <li> nnnnn</li>\r\n                        </ul>\r\n                     </div>\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                        <p>item item item item item item item</p> <span>250$</span>\r\n                     </div>\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                        <p>item item item item item item item</p> <span>250$</span>\r\n                     </div>\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                        <p>item item item item item item item</p> <span>250$</span>\r\n                     </div>\r\n                  </li>\r\n               </ul>\r\n            </div>\r\n          </li>\r\n          <li>\r\n             <div class=\"imageSection\">\r\n                    <img width=\"100%\" height=\"100px\"  src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5_4qsgI6It1r_h-Srxze4ATdDymHwQ7NaVA&usqp=CAU\" />\r\n             </div>\r\n          </li>\r\n          <li>\r\n            <div class=\"footerSection\">\r\n                   <ul>\r\n                     <li><i class=\"fa fa-circle-o\" aria-hidden=\"true\"></i> <h6>footer content</h6></li>\r\n                     <li><i class=\"fa fa-circle-o\" aria-hidden=\"true\"></i> <h6>footer content footer content</h6></li>\r\n                     <li><i class=\"fa fa-circle-o\" aria-hidden=\"true\"></i> <h6>footer content footer content footer content footer content footer content footer content footer content footer content</h6></li>\r\n                     <li><i class=\"fa fa-circle-o\" aria-hidden=\"true\"></i> <h6>footer content</h6></li>\r\n                   </ul>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div> */}\r\n      {/* <div class=\"col-xs-2 studioColumn\">\r\n        <div style=\"padding:10px;margin: 10px;\">\r\n          <div class=\"row\">\r\n            <h5 class=\"col-md-4 center\">color</h5>\r\n            <input class=\"col-md-8 \" type=\"color\" />\r\n          </div>\r\n          <br/>\r\n  \r\n          <div class=\"row\">\r\n            <h5 class=\"col-md-6 center\">font size</h5>\r\n            <input class=\"col-md-6 center\" type=\"number\" max=\"100\" min=\"1\" />\r\n          </div>\r\n          <br/>\r\n          <div class=\"row\">\r\n            <h5 class=\"col-md-6\">order</h5>\r\n            <h5 class=\"col-md-6\">2</h5>\r\n          </div>\r\n          <div class=\"row\" style=\"padding-left:10px;padding-right:10px\">\r\n            <input type=\"range\" min=\"1\" max=\"10\" value=\"50\"  id=\"myRange\">\r\n          </div>\r\n          <br/>\r\n          <br/>\r\n          <div class=\"row\">\r\n            <select class=\"col-md-12\" style=\"margin-left:10px;margin-right:10px\">\r\n              <option value=\"\">FONT FAMILY</option>\r\n              <option value=\"dog\">FONT 1</option>\r\n              <option value=\"cat\">FONT 2</option>\r\n              <option value=\"hamster\">FONT 3</option>\r\n              <option value=\"parrot\">FONT 4</option>\r\n              <option value=\"spider\">FONT 5</option>\r\n              <option value=\"goldfish\">FONT 6</option>\r\n          </select>\r\n          </div>\r\n          <br/>\r\n          <div class=\"row\">\r\n            <h5 class=\"col-md-12\">background image</h5>\r\n          </div>\r\n          <div class=\"row\" >\r\n            <input class=\"col-md-10 center\" style=\"margin-left:10px;margin-right:10px\" type=\"file\" />\r\n          </div>\r\n          <br/>\r\n          <div class=\"row\">\r\n            <h5 class=\"col-md-12\">Header text</h5>\r\n          </div>\r\n          <div class=\"row\" >\r\n            <textarea class=\"col-md-10 center\" rows=\"1\" ></textarea>\r\n          </div>\r\n          <br/>\r\n          <div class=\"row\">\r\n            <h5 class=\"col-md-12\">Description text</h5>\r\n          </div>\r\n          <div class=\"row\" >\r\n            <textarea class=\"col-md-10 center\" rows=\"1\" ></textarea>\r\n          </div>\r\n        </div>\r\n      </div> */}"]},"metadata":{},"sourceType":"module"}