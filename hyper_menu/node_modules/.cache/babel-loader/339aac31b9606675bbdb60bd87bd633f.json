{"ast":null,"code":"var _jsxFileName = \"D:\\\\masterdegree\\\\projectHyperMenu\\\\react\\\\hyper_menu\\\\src\\\\page\\\\preview.js\";\nimport '../reset.css';\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport axios from 'axios';\nimport { actions, nodeTypes } from '../reducers/studio_reducer';\nimport CustomLoader from '../custom_loader';\n\nfunction Preview(props) {\n  var nodes = [];\n  const [laodingStatus, setlaodingStatus] = useState(false);\n  const [pagesList, setPagesList] = useState([]);\n  const [menuTemplate, setMenuTemplate] = useState('');\n  const [activePageIndex, setActivePageIndex] = useState(0);\n  const {\n    menuId\n  } = useParams();\n  const styleWrapper = {\n    header: {\n      background: 'red'\n    }\n  };\n\n  function getMenuPages() {\n    setlaodingStatus(true);\n    axios.get('/page/show?menu_id=' + menuId).then(res => {\n      setlaodingStatus(false);\n      setPagesList(res.data);\n    }).catch(error => {\n      setlaodingStatus(false);\n      alert(error.message);\n    });\n  }\n\n  function getMenuTemplate() {\n    setlaodingStatus(true);\n    axios.get('/menu/' + menuId).then(res => {\n      setMenuTemplate(res.data.template_class);\n    }).catch(error => {\n      alert(error.message);\n    });\n  }\n\n  useEffect(() => {\n    getMenuPages();\n    getMenuTemplate();\n  }, []);\n  if (pagesList[0]) nodes = JSON.parse(pagesList[0].html_sections);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CustomLoader, {\n    show: laodingStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"menuPage\",\n    className: menuTemplate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, nodes && nodes.map(item => {\n    if (item.type == nodeTypes.header) return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"headerSection\",\n      style: {\n        background: item.color\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 18\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 18\n      }\n    }, item.description)));else if (item.type == nodeTypes.image) return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"imageSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, item.src && /*#__PURE__*/React.createElement(\"div\", {\n      class: \"imageSection\",\n      style: {\n        backgroundImage: `url(${item.src})`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, item.title)), !item.src && /*#__PURE__*/React.createElement(\"div\", {\n      class: \"imageSection\",\n      style: {\n        backgroundImage: `url(\"../../../assets/images/imageuploader.jpg\")`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, item.title))));else if (item.type == nodeTypes.items) return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 27\n      }\n    }, \" \", item && item.title), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"itemSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 38\n      }\n    }, item.priceList && item.priceList.map(r => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 57\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 62\n        }\n      }, r.content), \" \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 81\n        }\n      }, r.price), \" \");\n    }))));else if (item.type == nodeTypes.footer) return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"footerSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, item.itemsList && item.itemsList.map(r => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"fa \" + r.icon,\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 33\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 82\n        }\n      }, r.content));\n    }))));\n  }))));\n}\n\nexport default Preview;","map":{"version":3,"sources":["D:/masterdegree/projectHyperMenu/react/hyper_menu/src/page/preview.js"],"names":["React","useState","useEffect","useParams","axios","actions","nodeTypes","CustomLoader","Preview","props","nodes","laodingStatus","setlaodingStatus","pagesList","setPagesList","menuTemplate","setMenuTemplate","activePageIndex","setActivePageIndex","menuId","styleWrapper","header","background","getMenuPages","get","then","res","data","catch","error","alert","message","getMenuTemplate","template_class","JSON","parse","html_sections","map","item","type","color","title","description","image","src","backgroundImage","items","priceList","r","content","price","footer","itemsList","icon"],"mappings":"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","sourcesContent":["import '../reset.css';\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport { actions, nodeTypes } from '../reducers/studio_reducer'\r\nimport CustomLoader from '../custom_loader'\r\n\r\n\r\n\r\n\r\nfunction Preview(props) {\r\n  var nodes = []\r\n  const [laodingStatus, setlaodingStatus] = useState(false)\r\n  const [pagesList, setPagesList] = useState([])\r\n  const [menuTemplate, setMenuTemplate] = useState('')\r\n  const [activePageIndex, setActivePageIndex] = useState(0)\r\n  const { menuId } = useParams()\r\n\r\n\r\n  const styleWrapper = {\r\n    header :{\r\n      background : 'red'\r\n    }\r\n  }\r\n\r\n  function getMenuPages() {\r\n    setlaodingStatus(true)\r\n    axios.get('/page/show?menu_id=' + menuId)\r\n      .then(res => {\r\n        setlaodingStatus(false)\r\n        setPagesList(res.data)\r\n      }).catch(error => {\r\n        setlaodingStatus(false)\r\n        alert(error.message)\r\n      })\r\n  }\r\n\r\n  function getMenuTemplate() {\r\n    setlaodingStatus(true)\r\n    axios.get('/menu/'+menuId)\r\n      .then(res => {\r\n        setMenuTemplate(res.data.template_class)\r\n      }).catch(error => {\r\n        alert(error.message)\r\n      })\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getMenuPages();\r\n    getMenuTemplate();\r\n  }, [])\r\n\r\n  if (pagesList[0])\r\n    nodes = JSON.parse(pagesList[0].html_sections)\r\n  return (\r\n    <div>\r\n      <CustomLoader show={laodingStatus} />\r\n      <div id=\"menuPage\" className={menuTemplate} >\r\n        <ul>\r\n          {nodes && nodes.map((item) => {\r\n            if (item.type == nodeTypes.header)\r\n              return (<li>\r\n                <div class=\"headerSection\" style={{background:item.color}}>\r\n                 <h1>{item.title}</h1>\r\n                 <h6>{item.description}</h6>\r\n                </div>\r\n              </li>)\r\n            else if (item.type == nodeTypes.image)\r\n              return (<li>\r\n                <div class=\"imageSection\">\r\n                {item.src && (<div class=\"imageSection\" style={{backgroundImage:`url(${item.src})`}}>\r\n              <h1>{item.title}</h1>\r\n            </div>)} \r\n            {!item.src && (<div class=\"imageSection\" style={{backgroundImage:`url(\"../../../assets/images/imageuploader.jpg\")`}}>\r\n              <h1>{item.title}</h1>\r\n            </div>)} \r\n                </div>\r\n              </li>)\r\n               else if(item.type == nodeTypes.items)\r\n               return  ( <li>\r\n                          <h2> {item && item.title}</h2>\r\n                                   <div class=\"itemSection\">\r\n                                     <ul>\r\n                                        {item.priceList && item.priceList.map((r)=>{\r\n                                          return        <li> <p>{r.content}</p> <span>{r.price}</span> </li> \r\n                                        })}\r\n                                       </ul> \r\n                                   </div>\r\n                            </li>)\r\n            else if (item.type == nodeTypes.footer)\r\n              return (\r\n                <li>\r\n                  <div class=\"footerSection\">\r\n                    <ul>\r\n                    {item.itemsList && item.itemsList.map((r)=>{\r\n                    return  <li><i class={\"fa \"+ r.icon} aria-hidden=\"true\"></i> <h6>{r.content}</h6></li>\r\n                    })}\r\n                    </ul>\r\n                  </div>\r\n                </li>)\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Preview;\r\n"]},"metadata":{},"sourceType":"module"}