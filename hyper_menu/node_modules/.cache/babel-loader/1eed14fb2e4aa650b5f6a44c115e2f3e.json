{"ast":null,"code":"var _jsxFileName = \"D:\\\\masterdegree\\\\projectHyperMenu\\\\react\\\\hyper_menu\\\\src\\\\page\\\\preview.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport axios from 'axios';\nimport { actions, nodeTypes } from '../reducers/studio_reducer';\nimport CustomLoader from '../custom_loader';\n\nfunction Preview(props) {\n  var nodes = [];\n  const [laodingStatus, setlaodingStatus] = useState(false);\n  const [pagesList, setPagesList] = useState([]);\n  const [menuTemplate, setMenuTemplate] = useState('');\n  const [activePageIndex, setActivePageIndex] = useState(0);\n  const {\n    menuId\n  } = useParams();\n  const styleWrapper = {\n    header: {\n      background: 'red'\n    }\n  };\n\n  function getMenuPages() {\n    setlaodingStatus(true);\n    axios.get('/page/show?menu_id=' + menuId).then(res => {\n      setlaodingStatus(false);\n      setPagesList(res.data);\n    }).catch(error => {\n      setlaodingStatus(false);\n      alert(error.message);\n    });\n  }\n\n  function getMenuTemplate() {\n    setlaodingStatus(true);\n    axios.get('/menu/' + menuId).then(res => {\n      setMenuTemplate(res.data.template_class);\n    }).catch(error => {\n      alert(error.message);\n    });\n  }\n\n  useEffect(() => {\n    getMenuPages();\n    getMenuTemplate();\n  }, []);\n  if (pagesList[activePageIndex]) nodes = JSON.parse(pagesList[activePageIndex].html_sections);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CustomLoader, {\n    show: laodingStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    class: \"navbar  navbar-fixed-top navbar-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"navbar-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"navbar-toggle uarr collapsed\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#navbar-collapse-uarr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Toggle navigation\"), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"icon-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"icon-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"icon-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"collapse navbar-collapse\",\n    id: \"navbar-collapse-uarr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"nav navbar-nav navbar-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, pagesList && pagesList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 26\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      onClick: e => {\n        e.preventDefault();\n        setActivePageIndex(index);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 31\n      }\n    }, item.name));\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"menuPage\",\n    className: menuTemplate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, nodes && nodes.map(item => {\n    if (item.type == nodeTypes.header) return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"headerSection\",\n      style: {\n        background: item.color\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 18\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 18\n      }\n    }, item.description)));else if (item.type == nodeTypes.image) return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"imageSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, item.src && /*#__PURE__*/React.createElement(\"div\", {\n      class: \"imageSection\",\n      style: {\n        backgroundImage: `url(${item.src})`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, item.title)), !item.src && /*#__PURE__*/React.createElement(\"div\", {\n      class: \"imageSection\",\n      style: {\n        backgroundImage: `url(\"../../../assets/images/imageuploader.jpg\")`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }, item.title))));else if (item.type == nodeTypes.items) return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 27\n      }\n    }, \" \", item && item.title), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"itemSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 38\n      }\n    }, item.priceList && item.priceList.map(r => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 57\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 62\n        }\n      }, r.content), \" \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 81\n        }\n      }, r.price, \" \\xA0 \\u20BD\"), \" \");\n    }))));else if (item.type == nodeTypes.footer) return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"footerSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, item.itemsList && item.itemsList.map(r => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"fa \" + r.icon,\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 33\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 82\n        }\n      }, r.content));\n    }))));\n  }))));\n}\n\nexport default Preview;","map":{"version":3,"sources":["D:/masterdegree/projectHyperMenu/react/hyper_menu/src/page/preview.js"],"names":["React","useState","useEffect","useParams","axios","actions","nodeTypes","CustomLoader","Preview","props","nodes","laodingStatus","setlaodingStatus","pagesList","setPagesList","menuTemplate","setMenuTemplate","activePageIndex","setActivePageIndex","menuId","styleWrapper","header","background","getMenuPages","get","then","res","data","catch","error","alert","message","getMenuTemplate","template_class","JSON","parse","html_sections","map","item","index","e","preventDefault","name","type","color","title","description","image","src","backgroundImage","items","priceList","r","content","price","footer","itemsList","icon"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport { actions, nodeTypes } from '../reducers/studio_reducer'\r\nimport CustomLoader from '../custom_loader'\r\n\r\nfunction Preview(props) {\r\n  var nodes = []\r\n  const [laodingStatus, setlaodingStatus] = useState(false)\r\n  const [pagesList, setPagesList] = useState([])\r\n  const [menuTemplate, setMenuTemplate] = useState('')\r\n  const [activePageIndex, setActivePageIndex] = useState(0)\r\n  const { menuId } = useParams()\r\n\r\n\r\n  const styleWrapper = {\r\n    header :{\r\n      background : 'red'\r\n    }\r\n  }\r\n\r\n  function getMenuPages() {\r\n    setlaodingStatus(true)\r\n    axios.get('/page/show?menu_id=' + menuId)\r\n      .then(res => {\r\n        setlaodingStatus(false)\r\n        setPagesList(res.data)\r\n      }).catch(error => {\r\n        setlaodingStatus(false)\r\n        alert(error.message)\r\n      })\r\n  }\r\n\r\n  function getMenuTemplate() {\r\n    setlaodingStatus(true)\r\n    axios.get('/menu/'+menuId)\r\n      .then(res => {\r\n        setMenuTemplate(res.data.template_class)\r\n      }).catch(error => {\r\n        alert(error.message)\r\n      })\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getMenuPages();\r\n    getMenuTemplate();\r\n  }, [])\r\n\r\n  if (pagesList[activePageIndex])\r\n    nodes = JSON.parse(pagesList[activePageIndex].html_sections)\r\n  return (\r\n    <div>\r\n      <CustomLoader show={laodingStatus} />\r\n      <header>\r\n  <nav class=\"navbar  navbar-fixed-top navbar-default\">\r\n    <div class=\"container\">\r\n      <div class=\"navbar-header\">\r\n        <button type=\"button\" class=\"navbar-toggle uarr collapsed\" data-toggle=\"collapse\" data-target=\"#navbar-collapse-uarr\">\r\n          <span class=\"sr-only\">Toggle navigation</span>\r\n          <span class=\"icon-bar\"></span>\r\n          <span class=\"icon-bar\"></span>\r\n          <span class=\"icon-bar\"></span>\r\n        </button>\r\n      </div>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbar-collapse-uarr\">\r\n        <ul class=\"nav navbar-nav navbar-left\">\r\n          {pagesList && pagesList.map((item,index)=>{\r\n                 return  <li> <a href='#' onClick={(e)=>{\r\n                   e.preventDefault();\r\n                    setActivePageIndex(index)\r\n                 }}>{item.name}</a></li>\r\n          })}\r\n       \r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</header>\r\n      <div id=\"menuPage\" className={menuTemplate} >\r\n        <ul>\r\n          {nodes && nodes.map((item) => {\r\n            if (item.type == nodeTypes.header)\r\n              return (<li>\r\n                <div class=\"headerSection\" style={{background:item.color}}>\r\n                 <h1>{item.title}</h1>\r\n                 <h6>{item.description}</h6>\r\n                </div>\r\n              </li>)\r\n            else if (item.type == nodeTypes.image)\r\n              return (<li>\r\n                <div class=\"imageSection\">\r\n                {item.src && (<div class=\"imageSection\" style={{backgroundImage:`url(${item.src})`}}>\r\n              <h1>{item.title}</h1>\r\n            </div>)} \r\n            {!item.src && (<div class=\"imageSection\" style={{backgroundImage:`url(\"../../../assets/images/imageuploader.jpg\")`}}>\r\n              <h1>{item.title}</h1>\r\n            </div>)} \r\n                </div>\r\n              </li>)\r\n               else if(item.type == nodeTypes.items)\r\n               return  ( <li>\r\n                          <h2> {item && item.title}</h2>\r\n                                   <div class=\"itemSection\">\r\n                                     <ul>\r\n                                        {item.priceList && item.priceList.map((r)=>{\r\n                                          return        <li> <p>{r.content}</p> <span>{r.price} &nbsp; ₽</span> </li> \r\n                                        })}\r\n                                       </ul> \r\n                                   </div>\r\n                            </li>)\r\n            else if (item.type == nodeTypes.footer)\r\n              return (\r\n                <li>\r\n                  <div class=\"footerSection\">\r\n                    <ul>\r\n                    {item.itemsList && item.itemsList.map((r)=>{\r\n                    return  <li><i class={\"fa \"+ r.icon} aria-hidden=\"true\"></i> <h6>{r.content}</h6></li>\r\n                    })}\r\n                    </ul>\r\n                  </div>\r\n                </li>)\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Preview;\r\n"]},"metadata":{},"sourceType":"module"}